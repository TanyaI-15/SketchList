#SketchList
#### Video Demo: <https://youtube.com/shorts/PHiNtx5Ur_k?feature=share>
#### Description: As stated above, my project is a SketchList.
My project was simply motivated by the Notes App on my iPhone. From time to time, I enjoy the simple act of drawing and thus the incorporation of having a TODO that lets you sketch out your thoughts while having the  option to type if you please. In order to maximize the efficiency of my application, I got assistance from ChatGPT as well as my favorite, cs50.ai. I appreciate the guidance the apps gave me in making the completion of my project possible.

For starters, my application was created using programming languages: **JavaScript**, **Python**, **SQL**. Alongside them, I used the markup language **HTML**, the styling sheet language **CSS** and some **Bootstrap** features, as well as the templating language **Jinja** in putting together SketchList.

The files comprised in making SketchList are **app.py**, consisting of all the neccessary Flask functions (@app.routes), **support.py** (consisting of all the extra def functions needed in the applications that are not routes), an **API** folder that holds a **init.py** file (where the API route is and the **sketchlist.db** is opened and closed), **requirements.txt** (listing the needed supporting development frameworks), a **templates** folder suppported by Jinja, containing **HTML** files including *(layout.html, index.html, login.html, register.html, add_todo.html)*, a **static** folder consisting a **styles.css** file, alongside the SketchList **favicon**, and a **sketchlist.db** which consists two tables; *logins (used to store sensitive information about users) and todo (which stores the activity of users once they have signed into and are officially using the app)*.

From my **requirements.txt**, I had originally pip installed *Flask, Flask-Login, gunicorn, pytz* but decided against using Flask-Login and went about creating a login path that makes sense to me. For the SketchList application, I built the project using Flask and it's endless list of modules, I used gunicorn as a *Web Server Gateway Interface (WSGI)* to handle HTTP requests and *pytz* to account for various timezones as I hope for the application to be used globally one day. The timezone used to store data obtained from users will be UTC time due to it's consistent timing that is never affected by timezone changes.

For the **SQLite3**, the database contains two tables that I created: *logins and todo* and a *sqlite-sequence* table that is automatically generated in SQL. In the *logins* table, We have `id` which is the `primary key`, `username` which is `unique`, `password` saved as a hashed value, `security_question` which is to be picked when user registers their account, `security_answer` also supplied when registering ans is saved as a hashed value as well and lastly, `email` saves the users email. Originally, I had no logins table as there was no security feature for my application, eventaully, i realized that if I desire to have the application use world wide, a security feature would have to be put in place.

In the *todo* table, `id` which is the `primary key`, `user_id` used as a `foreign key` referencing the id from *logins* and used as caches to keep track of users in session, `title` name of the todo task, `description` (which is optional) allows users to describe their task, `drawing` (also optional for user if they desire to draw their task), the drawing is saved as a BLOB for efficiency, `completed` allows users to mark their task as completed or not,`created` a timestamp of when the user created the task and, `updated` a timestamp of any edits the user might have made to the task.

The **API** folder, consists of a *pycahce* folder, which according to my understanding, is automatically created by a Python interpreter to store compiled bytecodes of the modules used in my application. The folder also contains a file labeled **__init__.py** which consists of additional functions used in the main `app.py` containing all the routes. We have the `get_db()` function, the function connects the `sketchlist.db` to the application for a smooth flow of data from the backend to the frontend and vice versa. We also have the `inti_app(app)` function, which is used to cap the open database so as to avoid leaking any information from the database. lastly, we have the main function on the file that builds the *API* needed for the the application as well as the *Blueprint*, `@todo_bp.route("/api/todo")`. The *API* is used as the URL endpoint that returns JSON while the *API Blueprint* is used as a mini app throughout the building of the app.

Next, we have the **support.py** file. `convert_utc_to_local(utc_dt)`, this supportive function is used to factor in various timezones to maintain uniformity in the timezones in the database.`login_required(f)` is a wrap function that used in the *app.py* to ensure and enforce that the user is logged in in order to perform action on SketchList.`valid_password(password)` is used to verify that the user has used all the necessary characters needed to create their password when registering.

The star of the backend show, being the ***app.py*** contains a total of 10 `@app.route` that all help manage the functionality of the application. It also contains other forms of code that conribute to the functionality of the application. At the top of the file, we have various modules imported to aid the build up of the app. There after, we have configurations that assist with the security of the app as well registers that help connect the **API** to the **app.py**. Other features used are, function that permits the use of extension needed for images/drawings as well as a session function that keeps track of users in session. It has the flexibility of leaving users signed for up to 36 days. The function is supported by the `@app.before_request` route.

`@app.route("/")`, this route is the index, which works hand in hand with the `index.html` file. Once the user is logged in, these two together make it possible for users to see their dashboard. In the route, the database is accessed in order to display everything on the todo table to allow the user to see a list of all the tasks they have on their *todo_list*. The route also facilitates the conversion of drawings so the data is managable on the database for storage and display purposes on html. On the `index.html`, users are able to use features that allow them to check the status of their task, ethier completed or pending, the ability to edit tasks if they please and delete a task.

`@app.route("/add_todo", methods=["GET", "POST"])`, works alongside the `add_todo.html` simply gives the user an opportunity to add a new task once they are signed in. The route uses a <ins>GET</ins> and <ins>POST</ins> methods to access the form in the `add_todo.html`. It requires the user to have a *title* for their task but gives them the option of adding either a *description* or *drawing* or both once the form is accessed. If drawing are added, the route helps convert them to blobs for easier storage in the databse. On the hmtl, the user has the ability to use drawing tools in order to sketch their todo if they please. The html, also contains a `saveDrawing()` function which helps the user save the drawing and is executed as a **JavaScript** that will be explained in the `layout.html`. Once the form is submitted, the new todo is inserted into the `sketchlist.db` and user is redirected to their dashboard showing the updated board. 

`@app.route("/delete/<int:todo_id>")`, the route gives the user the ability to totally remove a task from their *todo_list*. It access the database directly and deletes the specific task the user wants gone from their dashboard.

`@app.route("/edit/<int:todo_id>", methods=["GET", "POST"])`, the route uses the `edit.html` to perform it's duty. It gives user the opportunity to make changes to their already existing tasks by retriving data from the database so changes can be made to it. If any drawings exist in the database, the route helps convert them from blobs to base64 so users are able to modify them as well. Once the the update is done, the base64 is converted back to blob for database storage. The route also uses the <ins>GET</ins> and <ins>POST</ins> methods as it is an interactive form. The html form is similar to the `add_tod.html`, ids and all. In most cases, having two files that extend to the same layout file sharing the same id can cause a fault in the application, but in this case, the **JavaScript** accesses the files at different times which helps avoid the bug that might arise from using the same id.

`@app.route("/login", methods=["GET", "POST"])`, gives users access into their accounts. The route uses the <ins>GET</ins> and <ins>POST</ins> methods to access the form from it's counterpart `login.html`. While it mainly uses the `login.html`, it is tethered to the `register.html` via an *href link* to help users without accounts. `("/login")` checks if the user has input an identifer(Email or Username) and password. It has a feature, *Show Password*, that allows users to see if they are entering the right password. In the case where the user forgets their password, users can use the forgot password form from the `login.html` file that permits them to provied their login identifier and proceed to answering a security question in order to login successfully. Once logged in, the user is redirected to thei dashboard and the database uses the user's user_id to keep track of who is logged in and the their activities.

`@app.route("/logout")`, gives the user a chance to exit their account and close out their session in the database directing them to the login page.

`@app.route("/toggle/<int:todo_id>")`, this route gives the user to ability to change their task status from *pending* to *done* and vice versa. Although it does not use any methods of acction, it works together with the `index.html`. After the status is changed by the user, an update is made on the `sketchlist.db` to reflect the toggle in status.

`@app.route("/register", methods=["GET", "POST"])`, cocurrently works with the `register.html` file so as to help users create an account on the app. The user is prompted to provide input for all the fields displayed for registry. Once the user has successfully registered themselves, their new account is logged on the batabase and the user is redirected to login. The process requires users to provide their private information and uses the `valid_password(password)` function to ensure that the user is meeting registration requirements for the fields. For user who already have an account, an *href link* is provided to the login page. 

`@app.route("/set-timezone", methods=["POST"])`, accounts for different times users may have.

For all the **hmtls**, we have a main file containg the `<!DOCTYPE html>`, `layout.html`. The `layout.html` is the main html file all the other files extend to. It set to English language and suitable for mobile use. The file contains links to other applications that help maintain the frontend front of the applicaction like **Bootstrap and JavaScript and `style.css`**. The html has a navigation bar that allows users to add a todo as well as logout of the account. It also provides the user a dashboard direction ***<ins>SketchList</ins>***. At the bottom of the the *body* in `layout.html`, we have various **<scripts>** that help facilitate actions such as drawing, using drawing tools, making sure that the users timezones are fetched, the ability allow users to be able to toggle between seeing their password or not seeing it when providing it's input and having the drawing saved once the form is submitted.

Other files comprised in the **SketchList** folder are more *pycache* files relating to all the *Python* based files. We also have the **Static** folder, which contains the *SketchList* favicon stored in as `favicon.png` and the `style.css` file which is used to decorate the *SketchList* overall profile. 